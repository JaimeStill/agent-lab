# ============================================================================
# Docker Compose - Container Configuration
# ============================================================================

# PostgreSQL Container
POSTGRES_DB=agent_lab
POSTGRES_USER=agent_lab
POSTGRES_PASSWORD=agent_lab
POSTGRES_PORT=5432

# Ollama Container (optional - for development with local LLM)
OLLAMA_PORT=11434
OLLAMA_MODELS_DIR=~/.ollama
OLLAMA_KEEP_ALIVE=5m

# ============================================================================
# Service Configuration
# ============================================================================

# Environment-specific config overlay (loads config.{SERVICE_ENV}.toml)

SERVICE_DOMAIN=http://localhost:8080

# Examples: local, dev, staging, prod
SERVICE_ENV=local

# Service-level configuration
SERVICE_SHUTDOWN_TIMEOUT=30s

SERVICE_VERSION=0.1.0

# ============================================================================
# Application Configuration - TOML Overrides
# ============================================================================
# Pattern: SECTION_FIELD (matches config.toml structure)
# Every TOML field has a corresponding environment variable override
# ============================================================================

# Database Connection (application config)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=agent_lab
DATABASE_USER=agent_lab
DATABASE_PASSWORD=agent_lab
DATABASE_MAX_OPEN_CONNS=25
DATABASE_MAX_IDLE_CONNS=5
DATABASE_CONN_MAX_LIFETIME=15m
DATABASE_CONN_TIMEOUT=5s

# Server
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_READ_TIMEOUT=1m
SERVER_WRITE_TIMEOUT=15m
SERVER_SHUTDOWN_TIMEOUT=30s

# Logging
LOGGING_LEVEL=info
LOGGING_FORMAT=json

# Storage
STORAGE_BASE_PATH=.data/blobs
STORAGE_MAX_UPLOAD_SIZE=100MB

# API Module
API_BASE_PATH=/api

# API CORS
API_CORS_ENABLED=false
API_CORS_ORIGINS=http://localhost:3000,http://localhost:8080
API_CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
API_CORS_ALLOWED_HEADERS=Content-Type,Authorization
API_CORS_ALLOW_CREDENTIALS=false
API_CORS_MAX_AGE=3600

# API Pagination
API_PAGINATION_DEFAULT_PAGE_SIZE=20
API_PAGINATION_MAX_PAGE_SIZE=100

# API OpenAPI
API_OPENAPI_TITLE=Agent Lab API
API_OPENAPI_DESCRIPTION=Containerized web service platform for building and orchestrating agentic workflows.

# ============================================================================
# CLI Tools
# ============================================================================

# Migration CLI (cmd/migrate)
# Full PostgreSQL connection string for golang-migrate
DATABASE_DSN=postgres://agent_lab:agent_lab@localhost:5432/agent_lab?sslmode=disable
